Table of Contents
=================
   * [Εγκατάσταση](#εγκατάσταση)
      * [Απαιτήσεις](#απαιτήσεις)
      * [Οδηγίες Εγκατάστασης](#οδηγίες-εγκατάστασης)
   * [Περιγραφή API](#περιγραφή-api)
      * [Methods](#methods)
         * [Board](#board)
            * [Ανάγνωση Board](#ανάγνωση-board)
            * [Αρχικοποίηση Board](#αρχικοποίηση-board)
         * [Piece](#piece)
            * [Ανάγνωση Θέσης/Πιονιού](#ανάγνωση-θέσηςπιονιού)
            * [Μεταβολή Θέσης Πιονιού](#μεταβολή-θέσης-πιονιού)
         * [Player](#player)
            * [Ανάγνωση στοιχείων παίκτη](#ανάγνωση-στοιχείων-παίκτη)
            * [Καθορισμός στοιχείων παίκτη](#καθορισμός-στοιχείων-παίκτη)
         * [Status](#status)
            * [Ανάγνωση κατάστασης παιχνιδιού](#ανάγνωση-κατάστασης-παιχνιδιού)
      * [Entities](#entities)
         * [Board](#board-1)
         * [Players](#players)
         * [Game_status](#game_status)


# Demo Page

Μπορείτε να κατεβάσετε τοπικά ή να επισκευτείτε την σελίδα: 
https://users.iee.ihu.gr/~it174886/ADISE19_dmdt/



# Εγκατάσταση

## Απαιτήσεις

* Apache2
* Mysql Server
* php

## Οδηγίες Εγκατάστασης

 * Κάντε clone το project σε κάποιον φάκελο <br/>
  `$ git clone https://github.com/iee-ihu-gr-course1941/ADISE19_dmdt.git`

 * Βεβαιωθείτε ότι ο φάκελος είναι προσβάσιμος από τον Apache Server. πιθανόν να χρειαστεί να καθορίσετε τις παρακάτω ρυθμίσεις.

 * Θα πρέπει να δημιουργήσετε στην Mysql την βάση με όνομα 'triliza' και να φορτώσετε σε αυτήν την βάση τα δεδομένα από το αρχείο DB/triliza.sql



# Περιγραφή Παιχνιδιού

Η τριλιζα παίζεται ως εξής: Οι δυο παικτες διαλεγουν μεταξυ X ή O και ο καθενας γεμιζει ενα κουτι απο τα 9 που υπαρχουν ξεκινοντας απο τον X 

Οι κανόνες είναι οι εξης: Ο πρωτος παικτης που συμπληρωσει με το piece του μια σειρα, μια γραμμη η μια διαγωνιο κερδιζει το παιχνιδι

Η βάση μας κρατάει τους εξής πίνακες και στοιχεία: τους 2 παικτες, το ταμπλο, την κατασταση παιχνιδιου, το chat 

Η εφαρμογή απαπτύχθηκε μέχρι το σημείο του GUI

# Συντελεστες

Μανωλης Δημητριος| 
Κωνσταντινος Τσιτουμης


# Περιγραφή API

## Methods


### Board
#### Ανάγνωση Board

```
GET /board/
```

Επιστρέφει το [Board](#Board).

#### Αρχικοποίηση Board
```
POST /board/
```

Αρχικοποιεί το Board, δηλαδή το παιχνίδι. Γίνονται reset τα πάντα σε σχέση με το παιχνίδι.
Επιστρέφει το [Board](#Board).

#### Αρχικοποίηση Board με τους ιδιους παικτες
```
POST /board/rematch

```
Αρχικοποιεί το Board, δηλαδή το παιχνίδι. Γίνονται reset τα πάντα σε σχέση με το παιχνίδι.
εκτος απο τους παικτες και τις μεταξυ τους νικες. Επιστρέφει το [Board](#Board)

### Piece
#### Ανάγνωση Θέσης/Πιονιού

```
GET /board/piece/:x/:y/
```

Επιστρέφει τα στοιχεία από το Board με συντεταγμένες x,y. Περιλαμβάνει το piece.

#### Μεταβολή Θέσης Πιονιού

```
PUT /board/piece/:x/:y/
```


προσθετει στο κουτι με τις αναλογες συντεταγμενες το piece του παικτη, ελενχοντας πρωτα αν ειναι κενο και 
αν ειναι η σειρα του να παιξει.


### Player

#### Ανάγνωση στοιχείων παίκτη
```
GET /players/:p
```

Επιστρέφει τα στοιχεία του παίκτη p ή όλων των παικτών αν παραληφθεί. Το p μπορεί να είναι 'Χ' ή 'Ο'.

#### Καθορισμός στοιχείων παίκτη
```
PUT /players/:p
```
Json Data:

| Field             | Description                    | Required   |
| ----------------- | -------------------------------| ---------- |
| `username`        | Το username για τον παίκτη p.  | yes        |
| `piece`           | το piece που διαλεξε ο παιτκης | yes        |


Επιστρέφει τα στοιχεία του παίκτη p και ένα token. Το token πρέπει να το χρησιμοποιεί ο παίκτης καθόλη τη διάρκεια του παιχνιδιού.

### Status

#### Ανάγνωση κατάστασης παιχνιδιού
```
GET /status/
```

Επιστρέφει το στοιχείο [Game_status](#Game_status).


### Chat

#### Διαβασμα μηνυματος

```
GET /chat/
```
παιρνουμε το ονομα και το μηνυμα που στελνει ο καθε παικτης στο chat

#### Αποστολη μηνυματος

```
PUT /chat/
```
ο καθε παικτης στελνει το ονομα και το μηνυμα του οταν στελνει ενα μηνυμα στο chat

## Entities


### Board
---------

Το board είναι ένας πίνακας, ο οποίος στο κάθε στοιχείο έχει τα παρακάτω:


| Attribute                | Description                                  | Values                              |
| ------------------------ | -------------------------------------------- | ----------------------------------- |
| `x`                      | H συντεταγμένη x του τετραγώνου              | 1..3                                |
| `y`                      | H συντεταγμένη y του τετραγώνου              | 1..3                                |
| `piece`                  | To Πιόνι που υπάρχει στο τετράγωνο           | 'Χ','Ο', null       |



### Players
---------

O κάθε παίκτης έχει τα παρακάτω στοιχεία:


| Attribute                | Description                                  | Values                              |
| ------------------------ | -------------------------------------------- | ----------------------------------- |
| `username`               | Όνομα παίκτη                                 | String                              |
| `piece`                  | To piece που παίζει ο παίκτης                | 'Χ','Ο'                             |
| `token  `                | To κρυφό token του παίκτη. Επιστρέφεται μόνο τη στιγμή της εισόδου του παίκτη στο παιχνίδι | HEX |
| `last action  `          | Η στιγμη της τελευτεας κινησης του παικτη	  | timestamp							|


### Game_status
---------

H κατάσταση παιχνιδιού έχει τα παρακάτω στοιχεία:


| Attribute                | Description                                  | Values                              |
| ------------------------ | -------------------------------------------- | ----------------------------------- |
| `status  `               | Κατάσταση             | 'not active', 'initialized', 'started', 'ended', 'aborded'     |
| `p_turn`                 | To piece του παίκτη που παίζει        | 'X','O',null                              |
| `result`                 |  O παικτης που κέρδισε |'Χ','Ο',null                              |
| `last_change`            | Τελευταία αλλαγή/ενέργεια στην κατάσταση του παιχνιδιού         | timestamp |
| `Χwins`                   | Ο αριθμος των νικων του παικτη που εχει Χ	| int		|
| `Owins`                   | Ο αριθμος των νικων του παικτη που εχει O	| int		|

### chat
---------

H κατάσταση παιχνιδιού έχει τα παρακάτω στοιχεία:


| Attribute                | Description                                  | Values                              |
| ------------------------ | -------------------------------------------- | ----------------------------------- |
| `username`               |  O παικτης που εστειλε το μηνυμα | string                              |
| `message	`            | το περιεχομενο του μηνυματος         | string |
